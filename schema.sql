/* Database schema to keep the structure of entire database. */

create table animals(   
id int generated always as identity,
name varchar NOT NULL,
date_of_birth date NOT NULL,
escape_attempts int,
neutered boolean, 
weight_kg decimal,
PRIMARY KEY (id)
);

ALTER TABLE animals ADD species varchar;

/* Project part 3 */
CREATE TABLE owners (
  id int generated by default as identity,
  full_name varchar,
  age smallint,
  PRIMARY KEY (id)
);

CREATE TABLE species (
  id int generated by default as identity,
  name varchar,
  PRIMARY KEY (id)
);

ALTER TABLE animals ALTER COLUMN id SET generated by default;
ALTER TABLE animals DROP COLUMN species;


ALTER TABLE animals ADD COLUMN species_id int references species(id);
ALTER TABLE animals ADD COLUMN owner_id int references owners(id);
