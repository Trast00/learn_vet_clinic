CREATE TABLE patients (
  id int generated by default as identity,
  name varchar not null,
  date_of_birth date not null,
  PRIMARY KEY (id)
);

CREATE TABLE medical_histories (
  id int generated by default as identity,
  admitted_at timestamp NOT NULL,
  patient_id int not null references patients(id),
  status varchar not null,
  PRIMARY KEY(id)
);

CREATE TABLE invoices (
  id int generated by default as identity,
  total_amount decimal not null,
  generated_at timestamp not null,
  payed_at timestamp not null,
  medical_history_id int not null references medical_histories(id),
  PRIMARY KEY (id)
);

CREATE TABLE treatments (
  id int generated by default as identity,
  type varchar not null,
  name varchar not null,
  PRIMARY KEY (id)
);
